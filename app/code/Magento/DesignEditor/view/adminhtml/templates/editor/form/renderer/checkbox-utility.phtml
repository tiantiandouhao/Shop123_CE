<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
?>
<?php /** @var $block \Magento\DesignEditor\Block\Adminhtml\Editor\Form\Renderer\Checkbox */ ?>
<?php
/** @var $element \Magento\Framework\Data\Form\Element\Checkbox */
$element = $block->getElement();
?>

<?php echo $block->getHtml() ?>

<script>
require(['jquery'], function($){

    var checkbox = document.getElementById('<?php echo $element->getHtmlId() ?>');
    $(checkbox).on('quickStyleElementBeforeChange', function(e) {
        var checkbox = $(e.target);
        if (checkbox && checkbox.attr('checked')) {
            checkbox.val('<?php echo $element->getValue() ?>');
        } else {
            checkbox.val('<?php echo $element->getUncheckedValue() ?>');
        }
    });

});
</script>
