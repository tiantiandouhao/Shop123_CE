<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */

// @codingStandardsIgnoreFile

?>
<?php /** @var $block \Magento\AdminNotification\Block\System\Messages\UnreadMessagePopup */ ?>

<div id="system_messages_list" title="<?php echo $block->escapeHtml($block->getPopupTitle()); ?>">
    <ul class="message-system-list">
        <?php foreach ($block->getUnreadMessages() as $message): ?>
            <li class="message message-warning <?php echo $block->getItemClass($message);?>">
                <?php echo $message->getText();?>
            </li>
        <?php endforeach;?>
    </ul>
</div>

<script>
require([
    "jquery",
    "jquery/ui"
], function($){

    $(function() {
        $("#system_messages_list").dialog({
            autoOpen: true,
            resizable: false,
            width: '75%',
            modal: true,
            minHeight: '0',
            dialogClass: 'ui-popup-message',
            position: {
                my: 'left+12.5% top',
                at: 'center top',
                of: 'body'
            },
            open: function() {
                $(this).closest('.ui-dialog').addClass('ui-dialog-active');

                var topMargin = $(this).closest('.ui-dialog').children('.ui-dialog-titlebar').outerHeight() + 10;
                $(this).closest('.ui-dialog').css('margin-top', topMargin);
            }
        });
    });
});
</script>
